{% extends 'layout.html' %}
{% block content %}

    <h1 class="title">{{ question['title'] }}</h1>

    <p>
        {% for tag in question_tags %}
            <a href="/delete-tag/{{ question.id }}/{{ tag.name }}"><p id="question-tags">{{ tag.name }}</p></a>
        {% endfor %}
    </p>

    <div class="question-detail">
        <div class="box">
            <p class="question-detail-header">Submission Time</p>
            <p>{{ question['submission_time'] }}</p>
        </div>
        <div class="box">
            <p class="question-detail-header">View</p>
            <p>{{ question['view_number'] }}</p>
        </div>
        <div class="box">
            <p class="question-detail-header">Vote Number</p>
            <p>{{ question['vote_number'] }}</p>
        </div>
        <div class="box">
            <p class="question-detail-header">Posted by</p>
            {% if question['username'] %}
                <p>{{ question['username'] }}</p>
            {% else %}
                <p>Codecool!</p>
            {% endif     %}
        </div>
    </div>
    <br>
    {%  if question['image'] %}
        <p><img src="{{  question['image'] }}" height="200px" width="200px" alt="Invalid image URL"/></p>
    {% endif %}
    <p><h2 class="title">Message</h2></p>
    <p id="question-message">{{ question['message'] }}</p><br>

    {% if session['userid'] == question['user_id'] %}
        <a href="/edit-question/{{ question['id'] }}" class="button">Edit question</a>
    {% endif %}

    {% if session['userid'] != question['user_id'] %}
        <a href="/question/{{ question['id'] }}/voting?direction=up&target=question" class="button">Like</a>
        <a href='/question/{{ question['id'] }}/voting?direction=down&target=question' class="button">Dislike</a>
    {% endif %}

    {% block question %} {% endblock %}

{% endblock %}